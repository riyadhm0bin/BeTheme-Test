!function(e){"use strict";document.addEventListener("keydown",(function(e){if("Space"===e.code||32===e.keyCode){const s=e.target;(s.classList.contains("mfn-toggle-item")||s.classList.contains("question"))&&e.preventDefault()}}),{capture:!0});var s={keysTriggered:{Tab:!1,Enter:!1,ShiftLeft:!1,ShiftRight:!1,Escape:!1,ArrowLeft:!1,ArrowRight:!1,ArrowUp:!1,ArrowDown:!1,Space:!1},utils:{isSimpleHamburgerStack:!(e("body").hasClass("header-simple")&&!e("body").hasClass("mobile-side-slide")),switchExpanded:(s,i)=>e(s).attr("aria-expanded",i).parent("li").attr("aria-expanded",i),isHeaderBuilderEnabled:e("body").hasClass("mfn-header-template")},menuLinks:[...e("#menu .menu-item a").not(".menu-toggle").toArray(),e("a.mfn-menu-link").toArray()],subheaderLinks:e("#Subheader a").toArray(),wooPopup:e(".mfn-header-login").find("a, input").toArray(),contentLinks:[...e("#Content a").toArray(),...e("#Footer a").toArray()],clickListener(){jQuery(document).on("keydown",'a, *[role="link"], *[role="button"], input, button',(s=>{let{originalEvent:i}=s,{code:t}=i;t in this.keysTriggered&&(this.keysTriggered[t]=!0);let{Tab:a,ShiftLeft:n,ShiftRight:r}=this.keysTriggered;if(a&&!n&&!r){const s=e(":focus");if(s.hasClass("icon_close")&&s.closest(".search_wrapper").find(".mfn-live-search-box").is(":hidden"))return!1}if(a&&(n||r)){if(e(":focus").is('[name="s"]'))return!1}setTimeout((e=>this.recognizeGesture(s)),1)})),jQuery(document).on("keyup",'a, *[role="link"], *[role="button"], input, button',(e=>{let{originalEvent:s}=e,{code:i}=s;i in this.keysTriggered&&(this.keysTriggered[i]=!1),setTimeout((s=>this.recognizeGesture(e)),1)})),jQuery("#skip-links-menu").one("focus","a",(function(){e("#skip-links-menu").css("top","0px")}))},skipLinks(){e(":focus").closest("nav").is("#skip-links-menu")?e("#skip-links-menu").css("top","0px"):e("#skip-links-menu").css("top","-200px")},recognizeGesture(s){let{Tab:i,ShiftLeft:t,ShiftRight:a,ArrowDown:n,ArrowUp:r,ArrowLeft:l,ArrowRight:o,Enter:d,Escape:c,Space:u}=this.keysTriggered;const g=e(":focus");let m=e("*[aria-expanded=true]:not(#menu):not(.sub-menu)");const h=e("nav#menu").find("*[aria-expanded=true]"),f=e("body").hasClass("side-slide-is-open")?".extras-wrapper ":".top_bar_right ",b=e("body").hasClass("mfn-header-template"),p=()=>{let s=!1;return e("body").hasClass("rtl")&&(s=!0),e("body").hasClass("header-rtl")&&(s=!0),s};if(e(m).length&&!g.closest(m).length){const s=Object.values(m).filter((s=>s.classList&&"Side_slide"!==e(s).attr("id")));if(m=s.length?e(s[0]):m,e(m).hasClass("mfn-header-login")||e(m).hasClass("woocommerce-MyAccount-navigation"))return void e(m).closest(".mfn-header-login[aria-disabled=false]").find("a").first().focus();switch("Side_slide"!==m.attr("id")&&"true"==m.attr("aria-expanded")&&(e(m).siblings(".mfn-close-icon").length?e(m).siblings(".mfn-close-icon").trigger("click"):e(m).find(".mfn-close-icon").trigger("click")),e(m).is(g.siblings(".mfn-menu-item-megamenu"))||e(m).hasClass("mfn-header-tmpl-menu-sidebar")||!b||this.utils.switchExpanded(m,!1),!0){case m.hasClass("mfn-cart-holder"):e(`${f} #header_cart`).trigger("focus");break;case"Side_slide"===m.attr("id"):m.find(".close").trigger("click"),e(".responsive-menu-toggle").trigger("focus")}}if(e(h).length&&this.utils.isSimpleHamburgerStack&&(g.closest(h).length||h.siblings().is(g)||e(h).attr("aria-expanded","false").slideUp()),e(".sub-menu[aria-expanded=true]").each(((s,i)=>{"none"==e(i).css("display")&&this.utils.switchExpanded(i,!1),e(document.activeElement).closest("ul").is(e(i))||e(document.activeElement).siblings("ul").length||e(document.activeElement).closest('ul[aria-expanded="true"]').length||!b||this.utils.switchExpanded(i,!1)})),u)switch(!0){case"button"===g.attr("role"):case"link"===g.attr("role"):g.find(".title").length&&g.find(".title").trigger("click")}if(d)switch(!0){case g.hasClass("close-login-modal"):e("#Wrapper a.toggle-login-modal").trigger("focus").trigger("click"),this.utils.switchExpanded(e(".mfn-header-login[aria-disabled=false]"),!1);break;case g.hasClass("mfn-header-menu-burger")&&b:e(g).trigger("click"),e(g).siblings("div").find("ul a").first().focus();break;case g.hasClass("mfn-header-menu-toggle")&&b:e(g).closest(".mcb-item-header_burger-inner").find("a.mfn-header-menu-burger").trigger("click").focus();break;case g.hasClass("mfn-close-icon"):e(g).trigger("click");break;case g.hasClass("close"):this.utils.switchExpanded(m,!1),e(".responsive-menu-toggle").trigger("focus");break;case g.hasClass("menu-toggle")&&e("body").hasClass("side-slide-is-open"):const s=g.siblings(".sub-menu");"false"===s.attr("aria-expanded")?s.attr("aria-expanded",!0):(s.attr("aria-expanded",!1),s.find(".sub-menu").each(((s,i)=>{e(i).closest("li").removeClass("hover"),e(i).attr("aria-expanded",!1).css("display","none")}))),"block"==s.css("display")&&s.find("a").first().trigger("focus");break;case g.hasClass("menu-toggle")&&!e("body").hasClass("side-slide-is-open"):const i=g.siblings(".sub-menu");if(!this.utils.isSimpleHamburgerStack){if("true"==i.attr("aria-expanded"))this.utils.switchExpanded(i,!1);else{this.utils.switchExpanded(i,!0);let e=i.find("a").first();setTimeout((s=>e.trigger("focus")),100)}break}if("none"!=i.css("display")){this.utils.switchExpanded(i,!1),i.slideUp(0);const e=i.find("*[aria-expanded=true]");e.length&&(this.utils.switchExpanded(e,!1),e.slideUp())}else{this.utils.switchExpanded(i,!0);let e=i.slideDown(0).find("a").first();setTimeout((s=>e.trigger("focus")),100)}break;case g.hasClass("toggle-login-modal"):e(".mfn-header-login[aria-disabled=false]").find("input, a").first().trigger("focus"),e(".mfn-header-login[aria-disabled=false]").attr("aria-expanded","true");break;case"button"===g.attr("role"):case"link"===g.attr("role"):g.find(".image_links").length?window.location=g.find("a").attr("href"):g.find(".title").length?g.find(".title").trigger("click"):g.closest(".mfn-woo-list").length&&g.trigger("click");break;case"wpml"===g.attr("data-title"):const t=g.siblings(".wpml-lang-dropdown");"false"==t.attr("aria-expanded")?(t.attr("aria-expanded","true"),t.find("a").first().trigger("focus")):t.attr("aria-expanded","false");break;case g.hasClass("single_add_to_cart_button"):e(".mfn-cart-holder").find("a").first().trigger("focus");break;case g.hasClass("responsive-menu-toggle"):e("body").hasClass("mobile-side-slide")&&(this.menuLinks=[...e("#Side_slide").find("a.close").toArray(),...e(".extras-wrapper").find("a").toArray(),...this.menuLinks,...e("#Side_slide .social").find("a").toArray()],e(this.menuLinks[0]).trigger("focus"),g.trigger("click"),this.utils.switchExpanded(e("#Side_slide"),!0));break;case g.hasClass("overlay-menu-toggle"):"false"==e("#overlay-menu ul").attr("aria-expanded")||void 0===e("#overlay-menu ul").attr("aria-expanded")?(this.utils.switchExpanded(e("#overlay-menu ul"),!0),e("#overlay-menu").find(".menu-item a").first().trigger("focus")):(this.utils.switchExpanded(e("#overlay-menu ul"),!1),g.hasClass("close")&&e(".overlay-menu-toggle").trigger("focus"))}else if(i&&(t||a)){if(e("a.ui-tabs-anchor").attr("tabindex",0),this.skipLinks(),!g.is(".submenu")&&!b&&e("body").hasClass("side-slide-is-open")){const s=g.closest("li").siblings(".hover");s.removeClass("hover"),s.find(".sub-menu").each(((s,i)=>{e(i).closest("li").removeClass("hover")}))}if(g.is(".mfn-menu-link")&&e("body").hasClass("mfn-header-template")&&b){const s=g.siblings(".mfn-submenu").length?"mfn-submenu":"mfn-menu-item-megamenu",i=g.siblings(`.${s}`);if("mfn-submenu"===s&&g.closest("ul").attr("aria-expanded")&&this.utils.switchExpanded(e(g).siblings(".mfn-submenu"),!1),i.length){const i=e(g).siblings(`.${s}`);this.utils.switchExpanded(i,!0)}}g.closest("ul").hasClass("mfn-megamenu-menu")&&g.closest("li").hasClass("menu-item-has-children")&&b&&this.utils.switchExpanded(e(g).siblings(".sub-menu"),!0),g.closest("ul").hasClass("sub-menu")&&g.closest("li").hasClass("menu-item-has-children")&&b&&this.utils.switchExpanded(e(g).siblings(".sub-menu"),!0)}else if(i)switch(e("a.ui-tabs-anchor").attr("tabindex",0),this.skipLinks(),!0){case g.closest("li").hasClass("wc-block-product-categories-list-item"):g.closest(".li-expanded").length||(g.siblings(".cat-expander").trigger("click"),g.siblings("ul").find("a").first().trigger("focus")),g.closest("li").siblings(".li-expanded").each(((s,i)=>e(i).find(".cat-expander").trigger("click")));break;case g.is(".overlay-menu-toggle",".focus")&&"block"===e("#Overlay").css("display"):e(".overlay-menu-toggle").trigger("focus");break;case g.is(e(this.contentLinks[this.contentLinks.length-1]))&&!e("body").hasClass("footer-menu-sticky"):e(".fixed-nav").length?e(".fixed-nav").first().trigger("focus"):e("body a").first().trigger("focus");break;case!g.is(".submenu")&&!b&&e("body").hasClass("side-slide-is-open"):const s=g.closest("li").siblings(".hover");s.removeClass("hover"),s.find(".sub-menu").each(((s,i)=>{e(i).closest("li").removeClass("hover")}));break;case g.is(".mfn-menu-link")&&b:const i=g.siblings(".mfn-submenu").length?"mfn-submenu":"mfn-menu-item-megamenu",t=g.siblings(`.${i}`),a=e(g).closest(".mfn-menu-item-has-megamenu").find("a.mfn-menu-link")[0];if(e(a).trigger("mouseenter").trigger("hover").trigger("mouseover"),"mfn-submenu"===i&&"true"===g.closest("ul").attr("aria-expanded")&&this.utils.switchExpanded(e(g).siblings(".mfn-submenu"),!1),t.length){const s=e(g).siblings(`.${i}`);this.utils.switchExpanded(s,!0)}break;case g.closest("ul").hasClass("mfn-megamenu-menu")&&g.closest("li").hasClass("menu-item-has-children")&&b:case g.closest("ul").hasClass("sub-menu")&&g.closest("li").hasClass("menu-item-has-children")&&b:this.utils.switchExpanded(e(g).siblings(".sub-menu"),!0)}else if(c){var k=Array.from(e(".sub-menu[aria-expanded=true]")),x=e(".woocommerce").find("nav[aria-expanded=true]");if(g.closest("div.mfn-menu-item-megamenu")&&b){let s=g.closest("div.mfn-menu-item-megamenu");this.utils.switchExpanded(e(s),!1),e(s).siblings("a").trigger("focus")}else if(g.closest(".mfn-header-login").length)e("#Wrapper a.toggle-login-modal").trigger("focus"),e("body").removeClass("mfn-show-login-modal"),this.utils.switchExpanded(e(".mfn-header-login[aria-disabled=false]"),!1);else if(e("body").hasClass("side-slide-is-open")&&g.closest("#Side_slide").length)m.find(".close").trigger("click"),e(".responsive-menu-toggle").trigger("focus");else if(k.length&&b)if(e(g).closest(".mfn-header-tmpl-menu-sidebar").length)e(g).closest(".mfn-header-tmpl-menu-sidebar").attr("aria-expanded",!1),e(".mfn-header-menu-toggle").trigger("focus");else{const s=e(g).closest(".mfn-header-mainmenu").find("[aria-expanded=true]").first();e(s).siblings("a").trigger("focus"),this.utils.switchExpanded(s,!1)}else if(k.length&&!b){var y=e("nav").find(".sub-menu[aria-expanded=true]").siblings("a.menu-toggle");k.forEach((s=>{this.utils.switchExpanded(s,!1),e(s).slideUp()})),y.trigger("focus")}else if(!b&&e(".mfn-header-login").find("nav[aria-expanded=true]").length)e(".close-login-modal").trigger("click"),this.utils.switchExpanded(x,!1),e(".myaccount_button").trigger("focus");else{if("true"==e(".mfn-cart-holder").attr("aria-expanded"))return e(".mfn-cart-holder").find(".close-mfn-cart").trigger("click"),this.utils.switchExpanded(e(".mfn-cart-holder"),!1),void e("#header_cart").trigger("focus");e(".responsive-menu-toggle").hasClass("active")?(e(".responsive-menu-toggle").trigger("click"),e(".responsive-menu-toggle").trigger("focus")):e(g).closest("ul").hasClass("mfn-megamenu-menu")&&b?(e(g).closest(".mfn-menu-item-megamenu").attr("aria-expanded",!1),e(g).closest(".mfn-menu-item-megamenu").closest("li").find("a").focus()):e(g).closest(".mfn-header-tmpl-menu-sidebar")&&b?(e(g).closest(".mfn-header-tmpl-menu-sidebar").attr("aria-expanded",!1),e(".mfn-header-menu-toggle").trigger("focus")):e(g).parent(".form-searchform")&&(e(g).trigger("click"),e(g).siblings(".mfn-close-icon").trigger("click"))}}else if(p()?l:o){if(g.closest("li").find(".menu-toggle").length){const e=g.siblings(".sub-menu");if("none"==e.css("display")){this.utils.switchExpanded(e,!0);let s=e.slideDown(0).find("a").first();setTimeout((e=>s.trigger("focus")),100)}}}else if((p()?o:l)&&g.closest("ul[aria-expanded=true]").length){const e=g.closest(".sub-menu").find("*[aria-expanded=true]");e.length&&(this.utils.switchExpanded(e,!1),e.slideUp())}},init(){if(e("body").hasClass("keyboard-support")){this.clickListener();const s=e(".sub-menu");s.attr("aria-expanded","false"),e(".menu-toggle, .menu-item a").attr("tabindex","0"),s.siblings("a")&&(this.utils.isHeaderBuilderEnabled?s.siblings("a").each(((s,i)=>{e(i).attr("aria-label",`${mfn.accessibility.translation.toggleSubmenu} ${e(i).find(".menu-label").text()}`)})):s.siblings("a.menu-toggle").each(((s,i)=>{e(i).attr("aria-label",`${mfn.accessibility.translation.toggleSubmenu} ${e(i).siblings("a").text()}`)}))),e("#Content").attr("role","main"),e("#Header_wrapper").attr("role","banner").attr("aria-label",mfn.accessibility.translation.headerContainer),e(".woocommerce-MyAccount-navigation").attr("role","navigation").attr("aria-expanded","false"),e('.mfn-header-login[aria-disabled="true"]').find("a, input, button").each(((s,i)=>e(i).attr("tabindex","-1"))),e("body").is(".header-creative, .header-simple, .header-overlay")||e("#menu").removeAttr("aria-expanded")}}},i={onLinkAlert(){e("a").click((function(s){const i=e(s.currentTarget);"_blank"!==i.attr("target")&&"0"!==i.attr("target")||(confirm("The link will open in a new tab. Do you want to continue? ")||s.preventDefault())}))},init(){e("body").hasClass("warning-links")&&this.onLinkAlert()}};e(window).on("load",(function(){s.init(),i.init()}))}(jQuery);